# Norogastro - Apache Configuration

# PHP Ayarları
<IfModule mod_php7.c>
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value max_input_time 300
    php_flag display_errors Off
    php_flag log_errors On
    php_value error_log error_log
</IfModule>

# PHP 8.x için
<IfModule mod_php.c>
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value max_input_time 300
    php_flag display_errors Off
    php_flag log_errors On
    php_value error_log error_log
</IfModule>

# Database dosyasını koru
<Files "database.db">
    Order allow,deny
    Deny from all
</Files>

# Geliştirme dosyalarını koru (production'da silin)
<FilesMatch "^(create-admin|view-users|test)\.(php|html)$">
    # Bu dosyalara erişimi kısıtlayabilirsiniz
    # Order allow,deny
    # Deny from all
</FilesMatch>

# Index dosyası
DirectoryIndex index.html index.php

# URL Rewriting (gerekirse)
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Alt klasör için base path (alt klasörde host ediyorsanız açın)
    # Örnek: public_html/norogastro/ klasöründe ise:
    # RewriteBase /norogastro/
    
    # Ana klasörde host ediyorsanız (public_html/):
    RewriteBase /
    
    # HTTPS yönlendirme (SSL aktifse)
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
    
    # www yönlendirme (isteğe bağlı)
    # RewriteCond %{HTTP_HOST} !^www\. [NC]
    # RewriteRule ^(.*)$ https://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

# Güvenlik başlıkları
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
    Header set Referrer-Policy "strict-origin-when-cross-origin"
    Header set Permissions-Policy "geolocation=(), microphone=(), camera=()"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains" env=HTTPS
</IfModule>

# Dosya türleri
<IfModule mod_mime.c>
    AddType application/javascript js
    AddType text/css css
    AddType image/png png
    AddType image/jpeg jpg jpeg
    AddType image/gif gif
    AddType image/svg+xml svg
</IfModule>

# Gzip sıkıştırma
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
</IfModule>

# Cache kontrolü
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType text/html "access plus 0 seconds"
</IfModule>

# Hata sayfaları (isteğe bağlı)
# ErrorDocument 404 /404.html
# ErrorDocument 500 /500.html
